<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">




<ui:composition template="/Templates/baseTemplate.xhtml">
	<ui:define name="scripts">

		<script type='text/javascript'
			src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>

	</ui:define>
	<ui:define name="content">
		<h:form>
			<!-- ICI Le Contenu  -->
			<!-- Espace Promotions -->
			<div id="contenuDetailPanier">
				<div class="Promo"></div>

				<div id="titrePageDetailPanier">
					<span>Contenu Détaillé de Votre Panier </span>
				</div>
				<div id="ficheDetailPanier">
					<ui:repeat var="ligne" value="#{detailPanierMBean.lignesPanier}">
						<div class="detailProdPanier">

							<div id="alignementNiveau1">

								<div class="nomProdEtRef">

									<span class="miniTitreNiveaux">Produit : </span>
									#{ligne.produit.nom} <br /> <br /> <span
										class="miniTitreNiveaux">Référence : </span>
									#{ligne.produit.id}<br /> <br /> <span
										class="miniTitreNiveaux">Catégorie : </span>
									#{ligne.produit.categorie.nom} <br /> <br /> <span
										class="miniTitreNiveaux">Type : </span>
									#{ligne.produit.type.nom}

								</div>
								<div class="imgFicheDetail">
									<img src="#{ligne.produit.photo}" />
								</div>
								<div class="orgaDetailPanier">
									<span class="miniTitreNiveaux">Organisation</span> <br /> <br />
									<span>Ajouter une quantité : </span>
									<h:inputText value="#{ligne.quantite}" id="idQte"
										class="qteProdDetailPanier" binding="#{qte}" />
									<h:commandLink
										action="#{testPanierMB.miseAJourQuantiteLigne(ligne, qte.value)}">
										<img src="image/refresh.png" width="15px" height="15px" />
									</h:commandLink>
									<h:commandLink
										action="#{testPanierMB.supprimerLignePieceClient(ligne)}"
										value="">
										<img src="image/delete.png" width="10px" height="10px" />
									</h:commandLink>
									<br /> <br /> <span>Prix unitaire : </span>
									#{testPanierMB.montantTTCProduit(ligne.produit)} <span>
										Crédits</span> <br /> <br />
									<h:commandButton
										action="#{detailPanierMBean.accesDetailProduit(ligne.produit)}"
										value="Détailler" class="buttDetailProduitDetailPanier" />
								</div>
								<div class="prixAjoutPanier">
									<span class="miniTitreNiveaux">Coût Total : </span> <br /> <br />
									<h:outputText
										value="#{testPanierMB.montantTotalTTCLigne(ligne)}"
										class="miniTitreNiveaux" />
									<span class="miniTitreNiveaux"> Crédits</span> <br />
								</div>

							</div>

						</div>
					</ui:repeat>
				</div>

				<!-- Panier lateral droit -->
				<div id="panierDetailProduit">
					<div id="hauteurPanierDetailProduit">
						<div id="titrePanier">
							<span>Panier</span>
							<div id="iconePanier"></div>
						</div>
						<div id="listePanierDetailProduit">
							<ui:repeat var="ligne" value="#{testPanierMB.lignesPanier}">
								<div>
									<h:outputText value="#{ligne.produit.nom}" />
									:<br />
									<h:outputText
										value="#{testPanierMB.montantTTCProduit(ligne.produit)}" />
									<span> x </span>
									<h:outputText value="#{ligne.quantite}" />
									<span> = </span>
									<h:outputText
										value="#{testPanierMB.montantTotalTTCLigne(ligne)}" />
									<h:commandLink
										action="#{testPanierMB.supprimerLignePieceClient(ligne)}"
										value="">
										<img src="image/delete.png" width="10px" height="10px" />
									</h:commandLink>
								</div>
							</ui:repeat>
						</div>
					</div>
					<div id="totalPanierDetailProduit">
						Total :
						<h:outputText value="#{testPanierMB.montantTotalTTCPanier()}" />
						€
					</div>
					<div>
						<br /> <br /> <br />
						<h:commandButton action="#{detailPanierMBean.validerLaCommande()}"
							value="Effectuer votre Commande"
							class="lancerCommandeDetailProduit" />
					</div>
				</div>
			</div>
		</h:form>

		<script>
function blink(ob)
{
	if (ob.style.visibility == "visible" )
	{
		ob.style.visibility = "hidden";
	}
	else
	{
		ob.style.visibility = "visible";
	}
}
setInterval("blink(titrePromo)",500);


    $('#zoneFavorisIcones').click(function () {	 
         $('#buttNoFavIcone').toggle();
         $('#buttYesFavIcone').toggle();
       });

</script>
	</ui:define>
</ui:composition>



</html>
