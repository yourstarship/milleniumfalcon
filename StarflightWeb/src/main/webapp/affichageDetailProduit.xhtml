<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">




<ui:composition template="/Templates/baseTemplate.xhtml">
	<ui:define name="scripts">

		<script type='text/javascript'
			src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>
		<!-- Infos du Carroussel -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="stylesheet"
				href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
				<script
					src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
				<script
					src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
			</link>
		</meta>

	</ui:define>
	<ui:define name="content">
		<f:view>
			<h:form id="formDetailProduit">
				<!-- ICI Le Contenu  -->
				<!-- Espace Promotions -->
				<div id="contenuDetailProduit">
					<div id="myCarousel" class="carousel slide" data-ride="carousel">
						<span id="titrePromoC" style="visibility: visible">PROMOTIONS</span>
						<!-- Indicators -->
						<ol class="carousel-indicators">
							<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
							<li data-target="#myCarousel" data-slide-to="1"></li>
							<li data-target="#myCarousel" data-slide-to="2"></li>

						</ol>


						<div class="carousel-inner" role="listbox">
							<div class="item active">
								<span class="reducNumber" style="visibility: visible"></span>
								<h:commandLink value=""
									action="#{accueilManagedBean.accesDetailProduit(accueilManagedBean.listPromotion.get(0))}">
									<img src="#{accueilManagedBean.listPromotion.get(0).photo}" />
								</h:commandLink>
							</div>

							<div class="item">
								<span class="reducNumber" style="visibility: visible"></span>
								<h:commandLink value=""
									action="#{accueilManagedBean.accesDetailProduit(accueilManagedBean.listPromotion.get(1))}">
									<img src="#{accueilManagedBean.listPromotion.get(1).photo}" />
								</h:commandLink>
							</div>

							<div class="item">
								<span class="reducNumber" style="visibility: visible"></span>
								<h:commandLink value=""
									action="#{accueilManagedBean.accesDetailProduit(accueilManagedBean.listPromotion.get(2))}">
									<img src="#{accueilManagedBean.listPromotion.get(2).photo}" />
								</h:commandLink>
							</div>


						</div>


						<!-- Left and right controls -->
						<a class="left carousel-control" href="#myCarousel" role="button"
							data-slide="prev"> <span
							class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
							<span class="sr-only">Previous</span>
						</a> <a class="right carousel-control" href="#myCarousel"
							role="button" data-slide="next"> <span
							class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
							<span class="sr-only">Next</span>
						</a>
					</div>


					<div id="titrePageDetailProduit">
						<span>Présentation Détaillées du </span><span>#{detailProduitMBean.produit.nom}
						</span>
					</div>
					<div id="ficheDetail">

						<div class="detailNiveau">
							<div id="alignementNiveau1">
								<div id="nomProdEtRef">
									<span class="miniTitreNiveaux">Produit : </span>
									<h:outputText value="#{detailProduitMBean.produit.nom}" />
									<br /> <br /> <span class="miniTitreNiveaux">Référence
										: </span>
									<h:outputText value="#{detailProduitMBean.produit.id}" />
									<br /> <br /> <span class="miniTitreNiveaux">Catégorie
										: </span>
									<h:outputText
										value="#{detailProduitMBean.produit.categorie.nom}" />
									<br /> <br /> <span class="miniTitreNiveaux">Type : </span>
									<h:outputText value="#{detailProduitMBean.produit.type.nom}" />
								</div>
								<div id="imgFicheDetail">
									<img src="#{detailProduitMBean.produit.photo}" />
								</div>
								<div id="descDroite">
									<span class="miniTitreNiveaux">Description</span>
									<p>#{detailProduitMBean.produit.description}</p>
								</div>
								<div id="prixAjoutPanier">
									<div id="zoneFavorisIcones">
										<div id="buttNoFavIcone"></div>
										<div id="buttYesFavIcone"></div>
									</div>
									<span class="miniTitreNiveaux">Prix : </span> <br /> <br />
									<h:outputText value="2 450 000" class="miniTitreNiveaux" />
									<br /> <br /> <br />
									<h:commandButton value="Ajouter au Panier"
										class="buttDetailProdAjoutPanier">
										<f:ajax
											listener="#{testPanierMB.ajouterUnProduitChoisi(detailProduitMBean.produit)}"
											event="click" render=":formDetailProduit:ccooco"></f:ajax>
									</h:commandButton>
								</div>
							</div>
						</div>

						<div class="detailNiveau">
							<div>
								<span class="miniTitreNiveaux">Caractéristiques</span> <br />
							</div>
							<br />
							<div>
								<table style="width: 100%">
									<tr>
										<td class="tailleColonneCaracFicheDetaille">Equipage</td>
										<td class="tailleColonneCaracFicheDetaille">Passagers</td>
										<td class="tailleColonneCaracFicheDetaille">vitesse max</td>
										<td class="tailleColonneCaracFicheDetaille">Couleur</td>
									</tr>
									<tr>
										<td class="tailleColonneCaracFicheDetaille">#{detailProduitMBean.produit.nombreEquipage}</td>
										<td class="tailleColonneCaracFicheDetaille">#{detailProduitMBean.produit.nombrePassagersMax}</td>
										<td class="tailleColonneCaracFicheDetaille">#{detailProduitMBean.produit.vitesse}
											Km/h</td>
										<td class="tailleColonneCaracFicheDetaille">#{detailProduitMBean.produit.couleur.nom}</td>
									</tr>
									<tr>
										<td>Longueur</td>
										<td>Largeur</td>
										<td>poids</td>
									</tr>
									<tr>
										<td>#{detailProduitMBean.produit.longueur} m</td>
										<td>#{detailProduitMBean.produit.largeur} m</td>
										<td>#{detailProduitMBean.produit.poids} kg</td>

									</tr>
								</table>
							</div>
						</div>

						<div class="detailNiveau" id="fieldCommentaire">
							<div>
								<span class="miniTitreNiveaux" style="position: absolute;">Commentaires</span>
								<br />
							</div>
							<!--  Ici on fait un système de repeat  -->
							<fieldset>
								<legend>@ auteur du commentaire @</legend>
								<span>Il est trop bien ce vaisseau ! aucun problème.
									léger, rapide comme prévu</span>
							</fieldset>
							<fieldset>
								<legend>@ auteur du commentaire @</legend>
								<span>Il est trop bien ce vaisseau ! aucun problème.
									léger, rapide comme prévu</span>
							</fieldset>
							<fieldset>
								<legend>@ auteur du commentaire @</legend>
								<span>Il est trop bien ce vaisseau ! aucun problème.
									léger, rapide comme prévu</span>
							</fieldset>
						</div>
						<div class="detailNiveau" id="fieldAjoutCommentaire">
							<div>
								<span class="miniTitreNiveaux" style="position: absolute;">Commentaires</span>
								<br />
							</div>
							<!--  Ici c'est l'ajout de commentaire visible uniquement si on est connecté  -->
							<fieldset>
								<legend>
									<h:inputText value="Nom" class="centVingtpx" />
								</legend>
								<h:inputTextarea rows="4" cols="125" />
							</fieldset>
						</div>
					</div>


					<!-- Panier lateral droit -->
					<div id="panierDetailProduit">
						<h:panelGroup id="ccooco" layout="block">
							<div id="hauteurPanierDetailProduit">
								<div id="titrePanier">
									<span>Panier</span>
									<div id="iconePanier"></div>
								</div>
								<div id="listePanierDetailProduit">
									<ui:repeat var="ligne"
										value="#{testPanierMB.panier.lignesPieceClient}">
										<div>
											<h:commandLink value="">
												<img src="image/delete.png" width="10px" height="10px" />
												<f:ajax
													listener="#{testPanierMB.supprimerLignePieceClient(ligne)}"
													event="click" render=":formDetailProduit:ccooco"></f:ajax>
											</h:commandLink><span> </span>
											<h:commandLink
												action="#{accueilManagedBean.accesDetailProduit(ligne.produit)}">
												<h:outputText value="#{ligne.produit.nom}" />
											</h:commandLink>
											:<br />
											<h:outputText
												value="#{testPanierMB.montantTTCProduit(ligne.produit)}" />
											<span> x </span>
											<h:outputText value="#{ligne.quantite}" />
											<span> = </span>
											<h:outputText
												value="#{testPanierMB.montantTotalTTCLigne(ligne)}" />

										</div>
									</ui:repeat>
								</div>
							</div>
							<div id="totalPanierDetailProduit">
								Total :
								<h:outputText value="#{testPanierMB.montantTotalTTCPanier()}" />
								€
								<h:commandLink value="">
									<img src="image/delete.png" width="10px" height="10px" />
									<f:ajax listener="#{testPanierMB.viderPanier()}" event="click"
										render=":formDetailProduit:ccooco"></f:ajax>
								</h:commandLink>
							</div>
							<div>
								<br />
								<h:commandButton
									action="#{detailProduitMBean.accesDetailPanier()}"
									value="Detail du Panier" class="detailPanierDetailProduit" />
								<br /> <br />
								<h:commandButton
									action="#{detailProduitMBean.validerLaCommande()}"
									value="Effectuer votre Commande"
									class="lancerCommandeDetailProduit" />
							</div>
						</h:panelGroup>
					</div>
				</div>
			</h:form>
		</f:view>
		<script>
function blink(ob)
{
	if (ob.style.visibility == "visible" )
	{
		ob.style.visibility = "hidden";
	}
	else
	{
		ob.style.visibility = "visible";
	}
}
setInterval("blink(titrePromoC)", 600);

$('.carousel').carousel({
    interval: 5000
})


    $('#zoneFavorisIcones').click(function () {	 
         $('#buttNoFavIcone').toggle();
         $('#buttYesFavIcone').toggle();
       });

</script>
	</ui:define>
</ui:composition>



</html>
